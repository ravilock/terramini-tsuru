{
  "version": 4,
  "terraform_version": "1.14.3",
  "serial": 86,
  "lineage": "10386f5d-3bfb-01bc-5b96-d29472152bff",
  "outputs": {},
  "resources": [
    {
      "module": "module.build-kit[0]",
      "mode": "managed",
      "type": "helm_release",
      "name": "buildkit",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "atomic": false,
            "chart": "https://github.com/tsuru/charts/releases/download/buildkit-0.2.2/buildkit-0.2.2.tgz",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "buildkit",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": {
              "app_version": "0.11.6",
              "chart": "buildkit",
              "first_deployed": 1766496714,
              "last_deployed": 1766496714,
              "name": "buildkit",
              "namespace": "tsuru",
              "notes": "",
              "revision": 1,
              "values": "{\"config\":\"debug = false\\n\\n[grpc]\\n  address = [\\\"unix:///var/run/buildkit/buildkitd.sock\\\", \\\"tcp://0.0.0.0:8080\\\"]\\n\\n[worker.oci]\\n  enabled = true\\n  max-parallelism = 100\\n  cniPoolSize = 32\\n\\n  gc = true\\n  gckeepstorage = 0\\n\\n[[worker.oci.gcpolicy]]\\n  all = true\\n  keepDuration = 172800 # 2 days in seconds\\n  keepBytes = 0\\n\\n[worker.containerd]\\n  enabled = false\\n\\n[registry.\\\"100.64.100.100:5000\\\"]\\n  http = true\",\"image\":{\"pullPolicy\":\"IfNotPresent\",\"repository\":\"moby/buildkit\"},\"replicaCount\":0,\"securityContext\":{\"privileged\":true}}",
              "version": "0.2.2"
            },
            "name": "buildkit",
            "namespace": "tsuru",
            "pass_credentials": false,
            "postrender": null,
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": null,
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": null,
            "set_list": null,
            "set_sensitive": null,
            "set_wo": null,
            "set_wo_revision": null,
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "\nreplicaCount: 0\n\n\nimage:\n  repository: moby/buildkit\n\n  \n  pullPolicy: IfNotPresent\n  \n\nconfig: |-\n  debug = false\n\n  [grpc]\n    address = [\"unix:///var/run/buildkit/buildkitd.sock\", \"tcp://0.0.0.0:8080\"]\n\n  [worker.oci]\n    enabled = true\n    max-parallelism = 100\n    cniPoolSize = 32\n\n    gc = true\n    gckeepstorage = 0\n\n  [[worker.oci.gcpolicy]]\n    all = true\n    keepDuration = 172800 # 2 days in seconds\n    keepBytes = 0\n\n  [worker.containerd]\n    enabled = false\n\n  [registry.\"100.64.100.100:5000\"]\n    http = true\n\nsecurityContext:\n  privileged: true\n"
            ],
            "verify": false,
            "version": "0.2.2",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "namespace": "tsuru",
            "release_name": "buildkit"
          }
        }
      ]
    },
    {
      "module": "module.cluster-runtime",
      "mode": "managed",
      "type": "tsuru_cluster",
      "name": "tsuru-cluster",
      "provider": "provider[\"registry.terraform.io/tsuru/tsuru\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "addresses": [
              "https://192.168.49.2:8443"
            ],
            "ca_cert": "",
            "client_cert": "",
            "client_key": "",
            "custom_data": {
              "build-service-address": "dns:///deploy-agent.tsuru.svc.cluster.local:80",
              "build-service-tls": "false",
              "disable-default-node-selector": "true",
              "enable-versioned-services": "true",
              "ephemeral-storage": "100Mi",
              "job-event-creation": "false"
            },
            "default": false,
            "http_proxy": "",
            "id": "my-cluster",
            "initial_pools": [
              "my-cluster"
            ],
            "kube_config": [
              {
                "cluster": [
                  {
                    "certificate_authority_data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCakNDQWU2Z0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwdGFXNXAKYTNWaVpVTkJNQjRYRFRJMU1USXlNakF6TlRneU9Wb1hEVE0xTVRJeU1UQXpOVGd5T1Zvd0ZURVRNQkVHQTFVRQpBeE1LYldsdWFXdDFZbVZEUVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTVl2Ckk5K0JSQkhjeFVUQTYzK2dJTDZoeEFEWjVmVm9QaHhqdXFrODd1SnRWbUJqdTI4bnFOMzhoekFwOGVmY2t4RDEKK0g0VzNJTHVYamo4bnZBL3lBcHU1RTFPTmR5QXpKd0p3TmgwdDVBbHJhQXdiV0NGYU10VE0wcXNvUU10TWM0TQpFRXFmQmdkRGhWOXpYb0Qwc0phTmpUYmd3U1VvUFpVREIvOHdPeGtyVlVraWt2WWlKNFVwQUFpMytUQ0w1SWMrCnloZVFNWDkwcmt0emhVaDFxKzVrYmliWGRaQ1UwMHllOSsrTCtnQS9lYnE0bDRjZyt2a01VQ2dweG45ZGdpTEgKcDd3M3psSysraDhVU1RreEc4SkZIeUl1dmd1L0ZrMXRGcFJhc2JNNHUydklzWVRKQzR3OXVVSXJGQTZuNi95eQoyNEhsTUNoeDM4MGg2WHQ5ZVRjQ0F3RUFBYU5oTUY4d0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVcKQkJRKzNaVHRoL1FBVDhZdkVZdmk0NFRFKzczMUZqQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFyTGZNU3ZnbwpPRnNFOHk3NWN4LzNteXNkTlFhZmZJRmJBZ1o4T1Q2N0xiZGZ6QXYvK2dTMGFQdlorQVR2M1pkSFpqMEFNRUdOCnVLVWNZaGhLS0pCZUh6elA2TURDOWs0WGJzSzJ2aS9qRmIyZ0J5cmY0TmI4MHMzYThaZ1kyS09VbENuNWFtK3gKVVJpL3RNZXZ3TnU0Tzhnb0VBMUhab0ZLZVYvSklxM3R0am5XSVBXOU1Ra0ZTYWoya0k3bEZHVnNsZnp1MUROcwpPMDhZc0N5N09XQkEweDV0K0lGMGhUSzU2R0FQcE1CZUZJV2ZtNlJXTDdQZmY0T0FwcisxTTRFTzAvV2VHUU43CmlXeTZ6WmRTT1ZFaGpFbGRVNWRZTnB5K0F5dFpzVEJQamF1OUpMK3M3M2lZbGROSmZxbllsNFpnVFFyaE5yS3cKaE9hNWdpTkJmVXFOQ1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
                    "insecure_skip_tls_verify": false,
                    "server": "https://192.168.49.2:8443",
                    "tls_server_name": ""
                  }
                ],
                "user": [
                  {
                    "auth_provider": [],
                    "client_certificate_data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJVENDQWdtZ0F3SUJBZ0lCQWpBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwdGFXNXAKYTNWaVpVTkJNQjRYRFRJMU1USXlNakEwTVRNek5Gb1hEVEk0TVRJeU1qQTBNVE16TkZvd01URVhNQlVHQTFVRQpDaE1PYzNsemRHVnRPbTFoYzNSbGNuTXhGakFVQmdOVkJBTVREVzFwYm1scmRXSmxMWFZ6WlhJd2dnRWlNQTBHCkNTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDNXY0RHhmZkJFTmNWeUpDWWY5QWQ3L2FuVTQwMGMKTmU1Ti8waXh6aGYvSlJMYmRGaVBIY0ZFUm5lV2NjZkVhWHA1OU9xazdQdTNwN09zTWlzaGYxNVVmSGJzTFpQdwpReXBlM21tb0R6bXNqOVZUZUgydkw0VTFTbldxelpwWVVGUklYTGNKaHh3RHUwZit2RnlxeTFzNlJaRjBDMUU0CllnL09tdHhqcTMrb3dKRm1sdHJhR1dXWnhVc1ZJeUJ1dGtTWWcxaFdUNDRzK2h1RXIrREVQWE80NVhaOERWRmoKT1dRU1MxaExqYUxBbmtDMFpjUUY2TDBoYXY5LzRLVlByUkNnQ0JBZU11eGozTm05MmRuVGp1YUt3WFFaY1ZYdwpJRmJ1d09FbDBsOTNrQWZBNGQzNHlLM1djZDNjdGJPa0FPNzBIUGJ1bDJKcGdhZjdYaGN2Wjk5WEFnTUJBQUdqCllEQmVNQTRHQTFVZER3RUIvd1FFQXdJRm9EQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBUVlJS3dZQkJRVUgKQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JRKzNaVHRoL1FBVDhZdkVZdmk0NFRFKzczMQpGakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBVS9rc1ZySEhHNGc3Q2NBWG81aE1ZbmM3bStJakhJS2VOZmhNCi9jb1hWaytBb1UvaU5Tc01CclNzTzQ0ZjVmMzFjMnJaYnBoY3ZqR3diWWZlR0M2ZEY3ZVJIVzlNNjVrNTVubFoKejdzTnRZb0VGNTZiNGg1VjMxaHZvOVhtZWVMY21YQ3lyS2U4ejNETElWS1JVbDVSd0cwWEFhT1RsVVpvTzJKQQpuZFh6Z1lUNXJtZy9ERmM0WGtOVlJIa1Q4TW8xSzdaVnh2eXVqQ05kRzc4dlNxb0l3ZEhZeGxvejhPSThTdXhiCmFIZVB3UTR1UTV6ZmQrazNQa1J2VTRwc29mWEV6bTR3N29WTTU3akZ1VS9WVW5pMHdWQVN4Lzk5dWhSWkw5S04KRGlFbnozSmVYTFFGV0ZML0lHVWc2M1E0YnA4TXVuSk91ZmU5NjY0dEdGK1pWZDNGckE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
                    "client_key_data": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBdWIrQThYM3dSRFhGY2lRbUgvUUhlLzJwMU9OTkhEWHVUZjlJc2M0WC95VVMyM1JZCmp4M0JSRVozbG5ISHhHbDZlZlRxcE96N3Q2ZXpyRElySVg5ZVZIeDI3QzJUOEVNcVh0NXBxQTg1ckkvVlUzaDkKcnkrRk5VcDFxczJhV0ZCVVNGeTNDWWNjQTd0SC9yeGNxc3RiT2tXUmRBdFJPR0lQenByY1k2dC9xTUNSWnBiYQoyaGxsbWNWTEZTTWdiclpFbUlOWVZrK09MUG9iaEsvZ3hEMXp1T1YyZkExUll6bGtFa3RZUzQyaXdKNUF0R1hFCkJlaTlJV3IvZitDbFQ2MFFvQWdRSGpMc1k5elp2ZG5aMDQ3bWlzRjBHWEZWOENCVzdzRGhKZEpmZDVBSHdPSGQKK01pdDFuSGQzTFd6cEFEdTlCejI3cGRpYVlHbisxNFhMMmZmVndJREFRQUJBb0lCQUNMYzF5bzhQWGJIOHQyWAovRkhkL3ZPZUtoeUxad01tK2luSWdzL2dneTkvdVZqWUx2RDVvRGNjMU1BM2JjdW5FblpHYWkzM1RzMXJHL1Z6Cld4WUg3bUFFRmx3QXQvWU4zU3QrS2kyQllnMUoxN3U1YnptTXZUOUIwUEQwY3dZbFdaUlZWb05peVBiSVZWeHgKNVNDblYyR0tBaUZhS0czaE5kOU13Sld5Y0J6dmFkR1FPTVhPTXREWTNxR1F2bklqY0NWMW0yR0w4dkV1cHFYbQo5Um94QkxOaFlaczc5cjR6QlFrRWVJSlZVOUlrZjNqajhqamNkV1VzUzNmK3JobWtZbllnTmE4SW1SM2N6Q3JTCmxSY3NOZTZBRjNoNU1RNy9uV3VjQlhSVTV5VXVuZDNRK0k0Nzg2Vld2ZWgzK1Ftb296cjQ4NnlscmR5b09EcnEKL1VhZ3ZVMENnWUVBMGp2eHdPVDJOcG5pWWo2c2dMeGVxeEFBYjBRa3NoU2E3ZytSTjlFb3hqN3g4TWUyeWd4dApmd3hMZitNd3g5K1VRVlBkUmxiVDhEem5UWXhaaHVSMmJBM3BXMEp6WTdYcHJXci94cmkzcVVrUWVDdHMzZ3ZxCnBpME5HTkd5aVNtcFNMc0hUVDB4VWh1VmFmYXJXYU8xeXhHVkE1QkZubldSZGFiaVJ5V1h2bzBDZ1lFQTRpNzcKd1psVjZTU0FZcHh1Wnh4ZlJnUWtCL2FpNzQxRmtsMDVwenE4Q25lYnNmcmJ5aGMxdURiTnhVNWgwMjNPVGs4OQpiZmJlZWF3bXNXb2ZjT2xZaXpDc2dQS2l2TFh4akpaNXpLUFVvQXdzSVZsQ1Y1dWFWdnFOU2dNakJaa2h3aEFXCkdlbHd0bThHSW1UUFRxMDFMTnp3YjJBcUVPakZWaGZGSHBTNzNuTUNnWUJtZ2VuL3h1UXlmVmYvMVZWaE0vZm8KNnRWN2F6dUZSVHpCeFA5bXV1cHB0M2xha05hVXIvaVgwUlBqR0pESmREK2lsdFMybmxHYXV1ZUJUV1M5dkJudAoxOTZucTcvOXAwNTRTMHJKeDNsdDVuMU1Tc2c3Z0kzNlZzOGpBZVJPc3V5aTFPYmJoM0hMK2owaFBMQVI5aHdICkZ0eVVyenp5NVpwMlJsZmdudmpkWlFLQmdGR24vS1BNSThQanRhWGtLOGQxNnI5d1IwSEl2TklYQW9Md3ZSdXUKakt5S3VkN3JYZVg3c3gwcVMrZHJnTTIvMnJkU3pDNmk3WGFudStCWkc3aTd4WWVhcnV4dXJHbk1sY1BYbjJsTgp6RGxycTVMdWtwRG1VRFlPaG11dDdqcmJLZURSeGVqYzZpQXl2TmcxNU5IV25sZnYrNjE1M2pYMGt5bWRzMEJ6CkdkQVpBb0dBVCs1RlZKUXZCMmdZVjFnUTkxSVpNWDBrd2FNMXJtUlJSM1NwaVBocmY5R095Wm4ybTZGelB6YjIKZ1JxcnVCRDNQY0J6c0dkNnhPTUhKZitybkxVWnBGNVRFNWx3dytHRGZ0M0I0TXpyNnJ1VFZzeHJwdWdDNnpDagpUVG54MW9UZ2FsZnpPR1BWSEJ0bk5BakJlUmkxaUphelZsblhtb29maTA0TXd4Q0dqMHM9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==",
                    "exec": [],
                    "password": "",
                    "token": "",
                    "username": ""
                  }
                ]
              }
            ],
            "local": false,
            "name": "my-cluster",
            "pools": [
              "my-cluster"
            ],
            "timeouts": null,
            "tsuru_provisioner": "kubernetes"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "cluster"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "certificate_authority_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "user"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "client_certificate_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "user"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "client_key_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "user"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "user"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "token"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "user"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "username"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.tsuru-api.helm_release.tsuru-api"
          ]
        }
      ]
    },
    {
      "module": "module.deploy-agent[0]",
      "mode": "data",
      "type": "kubernetes_service",
      "name": "deploy_agent_svc",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tsuru/deploy-agent",
            "metadata": [
              {
                "annotations": {
                  "meta.helm.sh/release-name": "deploy-agent",
                  "meta.helm.sh/release-namespace": "tsuru"
                },
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/instance": "deploy-agent",
                  "app.kubernetes.io/managed-by": "Helm",
                  "app.kubernetes.io/name": "deploy-agent",
                  "app.kubernetes.io/version": "2.8.2",
                  "helm.sh/chart": "deploy-agent-1.6.1"
                },
                "name": "deploy-agent",
                "namespace": "tsuru",
                "resource_version": "45881",
                "uid": "71f5de3d-7e60-430a-b8c8-dc9de2e23610"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.109.136.5",
                "cluster_ips": [
                  "10.109.136.5"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "http",
                    "node_port": 30252,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "http-grpc"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app.kubernetes.io/instance": "deploy-agent",
                  "app.kubernetes.io/name": "deploy-agent"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "NodePort"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.deploy-agent[0]",
      "mode": "managed",
      "type": "helm_release",
      "name": "deploy-agent",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "atomic": false,
            "chart": "https://github.com/tsuru/charts/releases/download/deploy-agent-1.6.1/deploy-agent-1.6.1.tgz",
            "cleanup_on_fail": true,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "deploy-agent",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": {
              "app_version": "2.8.2",
              "chart": "deploy-agent",
              "first_deployed": 1766496714,
              "last_deployed": 1766542033,
              "name": "deploy-agent",
              "namespace": "tsuru",
              "notes": "",
              "revision": 2,
              "values": "{\"buildkit\":{\"config\":\"debug = true\\n\\n[grpc]\\n  address = [\\n    \\\"tcp://0.0.0.0:8001\\\",\\n    \\\"unix:///run/buildkit/buildkitd.sock\\\",\\n  ]\\n\\n[worker.containerd]\\n  enabled = false\\n\\n[worker.oci]\\n  enabled = true\\n  gc = false\\n\\n  # NOTE: Force x86_64 arch as Tsuru doesn't support different ones yet.\\n  platforms = [\\n    \\\"linux/amd64\\\"\\n  ]\\n\\n[registry.\\\"100.64.100.100:5000\\\"]\\n  http = true\",\"env\":[],\"image\":{\"pullPolicy\":\"IfNotPresent\",\"repository\":\"moby/buildkit\",\"tag\":\"v0.10.6\"},\"readinessProbe\":{\"exec\":{\"command\":[\"/usr/bin/buildctl\",\"-timeout=1\",\"debug\",\"workers\"]},\"periodSeconds\":5,\"successThreshold\":5},\"resources\":{},\"securityContext\":{\"privileged\":true},\"volumeMounts\":[]},\"deployAgent\":{\"buildkit\":{\"autoDiscovery\":{\"enabled\":true,\"namespace\":\"tsuru\",\"podSelector\":\"app.kubernetes.io/name=buildkit\",\"port\":8080,\"setTsuruAppLabels\":false,\"timeout\":\"5m\",\"useSameNamespaceAsTsuruApp\":false},\"scale\":{\"enabled\":true,\"gracefulPeriod\":\"2h\",\"statefulset\":\"buildkit\"}},\"dockerConfig\":\"\",\"env\":[{\"name\":\"BUILDKIT_NO_CLIENT_TOKEN\",\"value\":\"true\"}],\"extraArgs\":[],\"image\":{\"pullPolicy\":\"IfNotPresent\",\"repository\":\"tsuru/deploy-agent\",\"tag\":\"latest\"}},\"imagePullSecrets\":[],\"podAnnotations\":{},\"podMonitor\":{\"enabled\":false},\"replicaCount\":1,\"service\":{\"port\":80,\"type\":\"NodePort\"}}",
              "version": "1.6.1"
            },
            "name": "deploy-agent",
            "namespace": "tsuru",
            "pass_credentials": false,
            "postrender": null,
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": null,
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": null,
            "set_list": null,
            "set_sensitive": null,
            "set_wo": null,
            "set_wo_revision": null,
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "replicaCount: 1\n\nimagePullSecrets: []\n\ndeployAgent:\n  image:\n    repository: tsuru/deploy-agent\n    pullPolicy: IfNotPresent\n    tag: \"latest\"\n\n  # env:\n  # - name: MY_ENV\n  #   value: foo\n  env:\n    - name: BUILDKIT_NO_CLIENT_TOKEN\n      value: \"true\"\n\n  extraArgs: []\n\n  # Docker config file\n  # See more https://docs.docker.com/engine/reference/commandline/cli/#docker-cli-configuration-file-configjson-properties\n  dockerConfig: \"\"\n\n  buildkit:\n    autoDiscovery:\n      enabled: true\n      podSelector: app.kubernetes.io/name=buildkit\n      namespace: \"tsuru\"\n      port: 8080\n      useSameNamespaceAsTsuruApp: false\n      setTsuruAppLabels: false\n      timeout: 5m\n\n    scale:\n      enabled: true\n      statefulset: \"buildkit\"\n      gracefulPeriod: 2h\n\nbuildkit:\n  image:\n    repository: moby/buildkit\n    pullPolicy: IfNotPresent\n    tag: v0.10.6\n\n  # env:\n  # - name: MY_ENV\n  #   value: foo\n  env: []\n\n  resources: {}\n  volumeMounts: []\n\n  securityContext:\n    privileged: true\n\n  readinessProbe:\n    exec:\n      command:\n        - /usr/bin/buildctl\n        - -timeout=1\n        - debug\n        - workers\n    periodSeconds: 5\n    successThreshold: 5\n\n  # buildkitd config file\n  # See more: https://github.com/moby/buildkit/blob/master/docs/buildkitd.toml.md\n  config: |-\n    debug = true\n\n    [grpc]\n      address = [\n        \"tcp://0.0.0.0:8001\",\n        \"unix:///run/buildkit/buildkitd.sock\",\n      ]\n\n    [worker.containerd]\n      enabled = false\n\n    [worker.oci]\n      enabled = true\n      gc = false\n\n      # NOTE: Force x86_64 arch as Tsuru doesn't support different ones yet.\n      platforms = [\n        \"linux/amd64\"\n      ]\n\n    [registry.\"100.64.100.100:5000\"]\n      http = true\n\npodMonitor:\n  enabled: false\n\nservice:\n  type: \"NodePort\"\n  port: 80\n\npodAnnotations: {}\n"
            ],
            "verify": false,
            "version": "1.6.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "namespace": "tsuru",
            "release_name": "deploy-agent"
          }
        }
      ]
    },
    {
      "module": "module.keda[0]",
      "mode": "managed",
      "type": "helm_release",
      "name": "keda",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "atomic": false,
            "chart": "keda",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "keda",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": {
              "app_version": "2.18.2",
              "chart": "keda",
              "first_deployed": 1766496714,
              "last_deployed": 1766496714,
              "name": "keda",
              "namespace": "tsuru",
              "notes": "\n:::^.     .::::^:     :::::::::::::::    .:::::::::.                   .^.                  \n7???~   .^7????~.     7??????????????.   :?????????77!^.              .7?7.                 \n7???~  ^7???7~.       ~!!!!!!!!!!!!!!.   :????!!!!7????7~.           .7???7.                \n7???~^7????~.                            :????:    :~7???7.         :7?????7.               \n7???7????!.           ::::::::::::.      :????:      .7???!        :7??77???7.              \n7????????7:           7???????????~      :????:       :????:      :???7?5????7.             \n7????!~????^          !77777777777^      :????:       :????:     ^???7?#P7????7.            \n7???~  ^????~                            :????:      :7???!     ^???7J#@J7?????7.           \n7???~   :7???!.                          :????:   .:~7???!.    ~???7Y\u0026@#7777????7.          \n7???~    .7???7:      !!!!!!!!!!!!!!!    :????7!!77????7^     ~??775@@@GJJYJ?????7.         \n7???~     .!????^     7?????????????7.   :?????????7!~:      !????G@@@@@@@@5??????7:        \n::::.       :::::     :::::::::::::::    .::::::::..        .::::JGGGB@@@\u00267:::::::::        \n                                                                      ?@@#~                  \n                                                                      P@B^                   \n                                                                    :\u0026G:                    \n                                                                    !5.                     \n                                                                    .Kubernetes Event-driven Autoscaling (KEDA) - Application autoscaling made simple.\n\nGet started by deploying Scaled Objects to your cluster:\n    - Information about Scaled Objects : https://keda.sh/docs/latest/concepts/\n    - Samples: https://github.com/kedacore/samples\n\nGet information about the deployed ScaledObjects:\n  kubectl get scaledobject [--namespace \u003cnamespace\u003e]\n\nGet details about a deployed ScaledObject:\n  kubectl describe scaledobject \u003cscaled-object-name\u003e [--namespace \u003cnamespace\u003e]\n\nGet information about the deployed TriggerAuthentications:\n  kubectl get triggerauthentication [--namespace \u003cnamespace\u003e]\n\nGet details about a deployed TriggerAuthentication:\n  kubectl describe triggerauthentication \u003ctrigger-authentication-name\u003e [--namespace \u003cnamespace\u003e]\n\nGet an overview of the Horizontal Pod Autoscalers (HPA) that KEDA is using behind the scenes:\n  kubectl get hpa [--all-namespaces] [--namespace \u003cnamespace\u003e]\n-------------------------------------------------------------------------------------\nWARNING - Running on unsupported Kubernetes version \"1.30\". KEDA 2.18 is supported and tested on Kubernetes \"1.31\" or higher. See https://keda.sh/docs/latest/operate/cluster/ for details.\n-------------------------------------------------------------------------------------\n\nLearn more about KEDA:\n- Documentation: https://keda.sh/\n- Support: https://keda.sh/support/\n- File an issue: https://github.com/kedacore/keda/issues/new/choose\n",
              "revision": 1,
              "values": "{\"extraArgs\":{\"keda\":{\"kube-api-burst\":150,\"kube-api-qps\":100}},\"image\":{\"pullPolicy\":\"IfNotPresent\"},\"podDisruptionBudget\":{\"metrics\":{\"maxUnavailable\":\"10%\"},\"operator\":{\"maxUnavailable\":\"10%\"},\"webhooks\":{\"maxUnavailable\":\"10%\"}}}",
              "version": "2.18.2"
            },
            "name": "keda",
            "namespace": "tsuru",
            "pass_credentials": false,
            "postrender": null,
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kedacore.github.io/charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": null,
            "set_list": null,
            "set_sensitive": null,
            "set_wo": null,
            "set_wo_revision": null,
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "image:\n  pullPolicy: IfNotPresent\n\nextraArgs:\n  keda:\n    # NOTE(nettoclaudio): keda-operator does a lot of patch operations changing\n    # the last active timestamp in ScaledObject's status subresource.\n    # So we have to increase the default QPS/burst to avoid throttling on\n    # controller's side. Otherwise it will start to growing excessively the\n    # controller's queue - delaying the update of HPA for the final user.\n    kube-api-qps: 100   # 5 times the default QPS (20)\n    kube-api-burst: 150 # 5 times the default burst (30)\n\npodDisruptionBudget:\n  operator:\n    maxUnavailable: 10%\n  metrics:\n    maxUnavailable: 10%\n  webhooks:\n    maxUnavailable: 10%\n"
            ],
            "verify": false,
            "version": "2.18.2",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "namespace": "tsuru",
            "release_name": "keda"
          }
        }
      ]
    },
    {
      "module": "module.tsuru-api",
      "mode": "managed",
      "type": "helm_release",
      "name": "tsuru-api",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "atomic": false,
            "chart": "https://github.com/tsuru/charts/releases/download/tsuru-api-0.3.10/tsuru-api-0.3.10.tgz",
            "cleanup_on_fail": true,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "tsuru-api",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": {
              "app_version": "1.27.0",
              "chart": "tsuru-api",
              "first_deployed": 1766593703,
              "last_deployed": 1766595158,
              "name": "tsuru-api",
              "namespace": "tsuru",
              "notes": "",
              "revision": 3,
              "values": "{\"image\":{\"pullPolicy\":\"Always\",\"repository\":\"100.64.100.100:5000/tsuru-api\",\"tag\":\"dev\"},\"replicaCount\":1,\"resources\":{},\"secretName\":\"apikeys-secret-apikeys-tsuru-api\",\"service\":{\"httpsOnly\":false,\"type\":\"NodePort\"},\"serviceMonitor\":{\"enabled\":false},\"tsuruConfig\":{\"adminTeam\":\"admin\",\"auth\":{\"scheme\":\"native\",\"user-registration\":true},\"database\":{\"databaseName\":\"tsuru\",\"mongodbURL\":\"100.64.100.100:27017\"},\"debug\":true,\"disableIndexPage\":false,\"docker\":{\"gc\":{\"dry-run\":true},\"repository\":\"100.64.100.100:5000\",\"repository-namespace\":\"tsuru\"},\"indexPageTemplate\":\"\\u003chtml\\u003e\\n  \\u003chead\\u003e\\n    \\u003cmeta http-equiv=\\\"refresh\\\" content=\\\"0; url=https://docs.tsuru.io/stable/\\\" /\\u003e\\n  \\u003c/head\\u003e\\n  \\u003cbody\\u003e\\n    \\u003cp\\u003e\\n      \\u003ca href=\\\"https://docs.tsuru.io/stable/\\\"\\u003eDocs\\u003c/a\\u003e\\n    \\u003c/p\\u003e\\n  \\u003c/body\\u003e\\n\\u003c/html\\u003e\",\"log\":{\"disableSyslog\":true,\"useStdErr\":true},\"routers\":{\"ingress-router\":{\"api-url\":\"http://kubernetes-router.tsuru.svc.cluster.local/api\",\"type\":\"api\"}},\"useTLS\":false}}",
              "version": "0.3.10"
            },
            "name": "tsuru-api",
            "namespace": "tsuru",
            "pass_credentials": false,
            "postrender": null,
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": null,
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": null,
            "set_list": null,
            "set_sensitive": null,
            "set_wo": null,
            "set_wo_revision": null,
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "replicaCount: 1\n\nimage:\n  repository: 100.64.100.100:5000/tsuru-api\n  pullPolicy: Always\n  # Overrides the image tag whose default is the chart appVersion.\n  tag: \"dev\"\n\nresources: {}\n\nserviceMonitor:\n  enabled: false\n\nsecretName: \"apikeys-secret-apikeys-tsuru-api\"\n\ntsuruConfig:\n  disableIndexPage: false\n  indexPageTemplate: |-\n    \u003chtml\u003e\n      \u003chead\u003e\n        \u003cmeta http-equiv=\"refresh\" content=\"0; url=https://docs.tsuru.io/stable/\" /\u003e\n      \u003c/head\u003e\n      \u003cbody\u003e\n        \u003cp\u003e\n          \u003ca href=\"https://docs.tsuru.io/stable/\"\u003eDocs\u003c/a\u003e\n        \u003c/p\u003e\n      \u003c/body\u003e\n    \u003c/html\u003e\n\n  log:\n    disableSyslog: true\n    useStdErr: true\n\n  auth:\n    scheme: native\n    user-registration: true\n\n  debug: true\n  adminTeam: admin\n  useTLS: false\n\n  database:\n    mongodbURL: \"100.64.100.100:27017\"\n    databaseName: \"tsuru\"\n\n  routers:\n    ingress-router:\n      type: api\n      api-url: http://kubernetes-router.tsuru.svc.cluster.local/api\n\n  docker:\n    repository: 100.64.100.100:5000\n    repository-namespace: tsuru\n\n    gc:\n      dry-run: true\n\nservice:\n  httpsOnly: false\n  type: \"NodePort\"\n"
            ],
            "verify": false,
            "version": "0.3.10",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "namespace": "tsuru",
            "release_name": "tsuru-api"
          }
        }
      ]
    }
  ],
  "check_results": null
}
